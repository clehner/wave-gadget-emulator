<!doctype html>
<html>
<head>
<style>
body { background: #8888cc; position: absolute; top: 0; bottom: 0; left: 0; right: 0; }
iframe { background: #ffffff; width: 49%; height: 50%; }
#state { background: #cccccc; width: 99%; height: 25%; display: block; font-family: monospace; }
</style>
<script type="text/javascript" src="gadgetemulator.js"></script>
</head>
<body>
A <a href="http://wave.google.com/">Google Wave</a> Gadget API emulator. First by <a href="http://www.hokstad.com/google-wave-gadget-emulator.html">Vidar Hokstad</a><br/>
<form id="load" method="get" action="">
Gadget XML source: <input id="g" type="text" name="g" size="40" value="" />
<input type="submit" value="load" />
</form>
<br/>
<div id="frames">
<iframe></iframe><iframe></iframe>
</div>
<h3>Gadget state</h3>
<textarea id="state">
The state of the gadget will be printed here
</textarea>

<script type="text/javascript">
function $(id) { return document.getElementById(id); }
$("load").onsubmit = function() {
	$("frames").innerHTML =
		"<iframe id='part1' src='participantframe.html'><"+"/iframe>"+
		"<iframe id='part2' src='participantframe.html'><"+"/iframe>";
	gadgets = new Gadgets();
	gadgets._add_participant('0', frames[0], "John", 'participant.jpg');
	gadgets._add_participant('1', frames[1], "Peter", 'participant.jpg');
	gadgets._load($("g").value);
	return false;
};
</script>
</body>
</html>
